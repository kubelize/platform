kind: Cluster
name: home-mck
talos:
  version: v1.11.6
kubernetes:
  version: 1.31.1
# features:
#   enableWorkloadProxy: true
patches:
  - name: cni
    file: patches/cni.yaml
  # Required by Longhorn
  # - name: storage
  #   file: patches/storage.yaml
---
kind: ControlPlane
machineClass:
  name: mck-control-planes
  size: 3
patches:
  - name: cilium
    file: patches/cilium.yaml
  - name: cni
    file: patches/cni.yaml
  - name: fluxcd
    file: patches/fluxcd.yaml
  - name: bootstrap
    file: bootstraps/home-mck.yaml
---
kind: Workers
name: workers
machineClass:
  name: mck-workers
  size: 3